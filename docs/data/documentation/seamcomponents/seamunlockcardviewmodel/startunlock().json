{"sections":[],"primaryContentSections":[{"declarations":[{"languages":["swift"],"platforms":["iOS"],"tokens":[{"text":"@","kind":"attribute"},{"text":"MainActor","kind":"attribute","preciseIdentifier":"s:ScM"},{"text":" ","kind":"text"},{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"startUnlock","kind":"identifier"},{"text":"()","kind":"text"}]}],"kind":"declarations"},{"content":[{"type":"heading","level":2,"anchor":"discussion","text":"Discussion"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"text":"Behavior:","type":"text"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"If already ","type":"text"},{"isActive":true,"identifier":"doc:\/\/ios.SeamComponents\/documentation\/SeamComponents\/SeamUnlockCardViewModel\/UnlockCardState\/connecting","type":"reference"},{"text":", calls ","type":"text"},{"isActive":true,"identifier":"doc:\/\/ios.SeamComponents\/documentation\/SeamComponents\/SeamUnlockCardViewModel\/cancelUnlock()","type":"reference"},{"text":".","type":"text"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"If in "},{"type":"reference","isActive":true,"identifier":"doc:\/\/ios.SeamComponents\/documentation\/SeamComponents\/SeamUnlockCardViewModel\/UnlockCardState\/success"},{"type":"text","text":", "},{"type":"reference","isActive":true,"identifier":"doc:\/\/ios.SeamComponents\/documentation\/SeamComponents\/SeamUnlockCardViewModel\/UnlockCardState\/failure(_:)"},{"type":"text","text":", or "},{"type":"reference","isActive":true,"identifier":"doc:\/\/ios.SeamComponents\/documentation\/SeamComponents\/SeamUnlockCardViewModel\/UnlockCardState\/error(_:)"},{"type":"text","text":", resets to "},{"type":"reference","isActive":true,"identifier":"doc:\/\/ios.SeamComponents\/documentation\/SeamComponents\/SeamUnlockCardViewModel\/UnlockCardState\/idle"},{"type":"text","text":"."}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"text","text":"Otherwise, resolves the credential, transitions to "},{"isActive":true,"type":"reference","identifier":"doc:\/\/ios.SeamComponents\/documentation\/SeamComponents\/SeamUnlockCardViewModel\/UnlockCardState\/connecting"},{"type":"text","text":","},{"type":"text","text":" "},{"type":"text","text":"and consumes unlock events from "},{"isActive":true,"type":"reference","identifier":"doc:\/\/ios.SeamComponents\/documentation\/SeamComponents\/SeamServiceProtocol\/unlock(using:timeout:)"},{"type":"text","text":"."}],"type":"paragraph"}]}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Event Mapping:"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"code":".launched","type":"codeVoice"},{"text":" → ","type":"text"},{"code":".connecting","type":"codeVoice"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"type":"codeVoice","code":".grantedAccess"},{"type":"text","text":" → "},{"type":"codeVoice","code":".success"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"code":".timedOut","type":"codeVoice"},{"text":" → ","type":"text"},{"code":".idle","type":"codeVoice"}]}]},{"content":[{"inlineContent":[{"code":".connectionFailed(debugDescription:)","type":"codeVoice"},{"text":" → ","type":"text"},{"code":".failure(debugDescription ?? \"unknown\")","type":"codeVoice"}],"type":"paragraph"}]}],"type":"unorderedList"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Error Handling: Any thrown error sets ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/ios.SeamComponents\/documentation\/SeamComponents\/SeamUnlockCardViewModel\/UnlockCardState\/failure(_:)"},{"text":" with its localized description.","type":"text"}]}]}]},{"content":[{"inlineContent":[{"text":"The returned task is stored in ","type":"text"},{"isActive":true,"type":"reference","identifier":"doc:\/\/ios.SeamComponents\/documentation\/SeamComponents\/SeamUnlockCardViewModel\/unlockTask"},{"text":" for cancellation.","type":"text"}],"type":"paragraph"}],"type":"aside","style":"note","name":"Note"}],"kind":"content"}],"schemaVersion":{"major":0,"minor":3,"patch":0},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/seamcomponents\/seamunlockcardviewmodel\/startunlock()"]}],"identifier":{"url":"doc:\/\/ios.SeamComponents\/documentation\/SeamComponents\/SeamUnlockCardViewModel\/startUnlock()","interfaceLanguage":"swift"},"metadata":{"modules":[{"name":"SeamComponents"}],"role":"symbol","externalID":"s:14SeamComponents0A19UnlockCardViewModelC05startC0yyF","title":"startUnlock()","roleHeading":"Instance Method","fragments":[{"text":"func","kind":"keyword"},{"text":" ","kind":"text"},{"text":"startUnlock","kind":"identifier"},{"text":"()","kind":"text"}],"symbolKind":"method"},"abstract":[{"type":"text","text":"Starts or manages the unlock flow."}],"hierarchy":{"paths":[["doc:\/\/ios.SeamComponents\/documentation\/SeamComponents","doc:\/\/ios.SeamComponents\/documentation\/SeamComponents\/SeamUnlockCardViewModel"]]},"kind":"symbol","references":{"doc://ios.SeamComponents/documentation/SeamComponents/SeamUnlockCardViewModel/startUnlock()":{"kind":"symbol","type":"topic","identifier":"doc:\/\/ios.SeamComponents\/documentation\/SeamComponents\/SeamUnlockCardViewModel\/startUnlock()","url":"\/documentation\/seamcomponents\/seamunlockcardviewmodel\/startunlock()","title":"startUnlock()","role":"symbol","abstract":[{"text":"Starts or manages the unlock flow.","type":"text"}],"fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"startUnlock"},{"kind":"text","text":"()"}]},"doc://ios.SeamComponents/documentation/SeamComponents":{"abstract":[{"type":"text","text":"SeamComponents is a themeable SwiftUI library for mobile access, offering out-of-the-box all-in-one experiences and fully composable, customizable views for use with the Seam SDK."}],"title":"SeamComponents","kind":"symbol","url":"\/documentation\/seamcomponents","type":"topic","identifier":"doc:\/\/ios.SeamComponents\/documentation\/SeamComponents","role":"collection"},"doc://ios.SeamComponents/documentation/SeamComponents/SeamUnlockCardViewModel/UnlockCardState/error(_:)":{"identifier":"doc:\/\/ios.SeamComponents\/documentation\/SeamComponents\/SeamUnlockCardViewModel\/UnlockCardState\/error(_:)","kind":"symbol","fragments":[{"text":"case","kind":"keyword"},{"text":" ","kind":"text"},{"text":"error","kind":"identifier"},{"text":"(","kind":"text"},{"text":"SeamAccessCredentialError","kind":"typeIdentifier","preciseIdentifier":"s:14SeamComponents0A21AccessCredentialErrorO"},{"text":")","kind":"text"}],"type":"topic","url":"\/documentation\/seamcomponents\/seamunlockcardviewmodel\/unlockcardstate\/error(_:)","role":"symbol","abstract":[{"type":"text","text":"A credential-level error is blocking unlock."}],"title":"SeamUnlockCardViewModel.UnlockCardState.error(_:)"},"doc://ios.SeamComponents/documentation/SeamComponents/SeamServiceProtocol/unlock(using:timeout:)":{"kind":"symbol","type":"topic","required":true,"title":"unlock(using:timeout:)","url":"\/documentation\/seamcomponents\/seamserviceprotocol\/unlock(using:timeout:)","abstract":[{"type":"text","text":"Starts an unlock operation and returns a stream of UI events."}],"identifier":"doc:\/\/ios.SeamComponents\/documentation\/SeamComponents\/SeamServiceProtocol\/unlock(using:timeout:)","role":"symbol","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"unlock"},{"kind":"text","text":"("},{"kind":"externalParam","text":"using"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"s:SS","text":"String"},{"kind":"text","text":", "},{"kind":"externalParam","text":"timeout"},{"kind":"text","text":": "},{"kind":"typeIdentifier","preciseIdentifier":"c:@T@NSTimeInterval","text":"TimeInterval"},{"kind":"text","text":") "},{"kind":"keyword","text":"throws"},{"kind":"text","text":" -> "},{"kind":"typeIdentifier","preciseIdentifier":"s:7Combine12AnyPublisherV","text":"AnyPublisher"},{"kind":"text","text":"<"},{"kind":"typeIdentifier","preciseIdentifier":"s:14SeamComponents0A17AccessUnlockEventO","text":"SeamAccessUnlockEvent"},{"kind":"text","text":", "},{"kind":"typeIdentifier","preciseIdentifier":"s:s5NeverO","text":"Never"},{"kind":"text","text":">"}]},"doc://ios.SeamComponents/documentation/SeamComponents/SeamUnlockCardViewModel/cancelUnlock()":{"type":"topic","kind":"symbol","url":"\/documentation\/seamcomponents\/seamunlockcardviewmodel\/cancelunlock()","title":"cancelUnlock()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"cancelUnlock"},{"kind":"text","text":"()"}],"abstract":[{"text":"Cancels the current unlock attempt (if any) and resets to ","type":"text"},{"identifier":"doc:\/\/ios.SeamComponents\/documentation\/SeamComponents\/SeamUnlockCardViewModel\/UnlockCardState\/idle","type":"reference","isActive":true},{"text":".","type":"text"}],"identifier":"doc:\/\/ios.SeamComponents\/documentation\/SeamComponents\/SeamUnlockCardViewModel\/cancelUnlock()","role":"symbol"},"doc://ios.SeamComponents/documentation/SeamComponents/SeamUnlockCardViewModel/UnlockCardState/failure(_:)":{"abstract":[{"text":"Unlock failed with a user-visible message.","type":"text"}],"title":"SeamUnlockCardViewModel.UnlockCardState.failure(_:)","type":"topic","url":"\/documentation\/seamcomponents\/seamunlockcardviewmodel\/unlockcardstate\/failure(_:)","kind":"symbol","identifier":"doc:\/\/ios.SeamComponents\/documentation\/SeamComponents\/SeamUnlockCardViewModel\/UnlockCardState\/failure(_:)","fragments":[{"text":"case","kind":"keyword"},{"text":" ","kind":"text"},{"text":"failure","kind":"identifier"},{"text":"(","kind":"text"},{"text":"String","preciseIdentifier":"s:SS","kind":"typeIdentifier"},{"text":")","kind":"text"}],"role":"symbol"},"doc://ios.SeamComponents/documentation/SeamComponents/SeamUnlockCardViewModel/UnlockCardState/idle":{"identifier":"doc:\/\/ios.SeamComponents\/documentation\/SeamComponents\/SeamUnlockCardViewModel\/UnlockCardState\/idle","kind":"symbol","url":"\/documentation\/seamcomponents\/seamunlockcardviewmodel\/unlockcardstate\/idle","title":"SeamUnlockCardViewModel.UnlockCardState.idle","fragments":[{"text":"case","kind":"keyword"},{"text":" ","kind":"text"},{"text":"idle","kind":"identifier"}],"abstract":[{"type":"text","text":"No active operation; ready to begin."}],"role":"symbol","type":"topic"},"doc://ios.SeamComponents/documentation/SeamComponents/SeamUnlockCardViewModel/UnlockCardState/success":{"abstract":[{"type":"text","text":"Unlock succeeded."}],"kind":"symbol","url":"\/documentation\/seamcomponents\/seamunlockcardviewmodel\/unlockcardstate\/success","type":"topic","fragments":[{"text":"case","kind":"keyword"},{"text":" ","kind":"text"},{"text":"success","kind":"identifier"}],"role":"symbol","identifier":"doc:\/\/ios.SeamComponents\/documentation\/SeamComponents\/SeamUnlockCardViewModel\/UnlockCardState\/success","title":"SeamUnlockCardViewModel.UnlockCardState.success"},"doc://ios.SeamComponents/documentation/SeamComponents/SeamUnlockCardViewModel/unlockTask":{"type":"topic","abstract":[{"text":"The current in-flight unlock task, if any. Cancel to abort the attempt.","type":"text"}],"title":"unlockTask","fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"text":"unlockTask","kind":"identifier"},{"text":": ","kind":"text"},{"text":"Task","kind":"typeIdentifier","preciseIdentifier":"s:ScT"},{"text":"<(), ","kind":"text"},{"text":"any","kind":"keyword"},{"text":" ","kind":"text"},{"text":"Error","kind":"typeIdentifier","preciseIdentifier":"s:s5ErrorP"},{"text":">?","kind":"text"}],"url":"\/documentation\/seamcomponents\/seamunlockcardviewmodel\/unlocktask","identifier":"doc:\/\/ios.SeamComponents\/documentation\/SeamComponents\/SeamUnlockCardViewModel\/unlockTask","kind":"symbol","role":"symbol"},"doc://ios.SeamComponents/documentation/SeamComponents/SeamUnlockCardViewModel/UnlockCardState/connecting":{"identifier":"doc:\/\/ios.SeamComponents\/documentation\/SeamComponents\/SeamUnlockCardViewModel\/UnlockCardState\/connecting","kind":"symbol","fragments":[{"text":"case","kind":"keyword"},{"text":" ","kind":"text"},{"text":"connecting","kind":"identifier"}],"url":"\/documentation\/seamcomponents\/seamunlockcardviewmodel\/unlockcardstate\/connecting","title":"SeamUnlockCardViewModel.UnlockCardState.connecting","role":"symbol","type":"topic","abstract":[{"text":"Attempting to connect \/ present credentials to the lock.","type":"text"}]},"doc://ios.SeamComponents/documentation/SeamComponents/SeamUnlockCardViewModel":{"kind":"symbol","type":"topic","abstract":[{"type":"text","text":"A main-actor view model that orchestrates the unlock flow for a single credential."}],"identifier":"doc:\/\/ios.SeamComponents\/documentation\/SeamComponents\/SeamUnlockCardViewModel","role":"symbol","title":"SeamUnlockCardViewModel","navigatorTitle":[{"kind":"identifier","text":"SeamUnlockCardViewModel"}],"fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"SeamUnlockCardViewModel"}],"url":"\/documentation\/seamcomponents\/seamunlockcardviewmodel"}}}